local Ranox = {}

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer

local mainUI = Instance.new("ScreenGui")
mainUI.Name = "RanoxUI"
mainUI.ResetOnSpawn = false
mainUI.IgnoreGuiInset = true
mainUI.Parent = player:WaitForChild("PlayerGui")

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 500, 0, 375)
mainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
mainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Parent = mainUI

local roundCorner = Instance.new("UICorner")
roundCorner.CornerRadius = UDim.new(0.1, 0)
roundCorner.Parent = mainFrame

local header = Instance.new("Frame")
header.Size = UDim2.new(1, 0, 0, 30)
header.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
header.Parent = mainFrame

local title = Instance.new("TextLabel")
title.Text = "RANOX"
title.Size = UDim2.new(1, -30, 1, 0)
title.Position = UDim2.new(0, 5, 0, 0)
title.BackgroundTransparency = 1
title.TextColor3 = Color3.new(1,1,1)
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.TextXAlignment = Enum.TextXAlignment.Left
title.Parent = header

local hideButton = Instance.new("TextButton")
hideButton.Size = UDim2.new(0, 30, 1, 0)
hideButton.Position = UDim2.new(1, -30, 0, 0)
hideButton.BackgroundTransparency = 1
hideButton.Text = "-"
hideButton.TextColor3 = Color3.new(1,1,1)
hideButton.Font = Enum.Font.GothamBold
hideButton.TextSize = 20
hideButton.Parent = header

local ballButton = Instance.new("ImageButton")
ballButton.Size = UDim2.new(0.05, 0, 0.1, 0)
ballButton.Position = UDim2.new(0.1, 0, 0.9, 0)
ballButton.AnchorPoint = Vector2.new(0.5, 0.5)
ballButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
ballButton.Image = "rbxassetid://6337069410"
ballButton.BackgroundTransparency = 0
ballButton.Visible = false
ballButton.Active = true
ballButton.Draggable = true
ballButton.Parent = mainUI

local ballCorner = Instance.new("UICorner")
ballCorner.CornerRadius = UDim.new(0.5, 0)
ballCorner.Parent = ballButton

hideButton.MouseButton1Click:Connect(function()
	local tweenInfo = TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
	local tweenSize = TweenService:Create(mainFrame, tweenInfo, { Size = UDim2.new(0, 0, 0, 0) })
	tweenSize:Play()
	tweenSize.Completed:Connect(function()
		mainFrame.Visible = false
		ballButton.Visible = true
	end)
end)

ballButton.MouseButton1Click:Connect(function()
	mainFrame.Visible = true
	local tweenInfo = TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
	local tweenSize = TweenService:Create(mainFrame, tweenInfo, { Size = UDim2.new(0, 500, 0, 375) })
	tweenSize:Play()
	ballButton.Visible = false
end)

local tabHolder = Instance.new("Frame")
tabHolder.Size = UDim2.new(1, 0, 0, 30)
tabHolder.Position = UDim2.new(0, 0, 0, 30)
tabHolder.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
tabHolder.Parent = mainFrame

local tabLayout = Instance.new("UIListLayout")
tabLayout.FillDirection = Enum.FillDirection.Horizontal
tabLayout.Padding = UDim.new(0, 5)
tabLayout.Parent = tabHolder

local tabPages = Instance.new("Frame")
tabPages.Size = UDim2.new(1, 0, 1, -60)
tabPages.Position = UDim2.new(0, 0, 0, 60)
tabPages.BackgroundTransparency = 1
tabPages.ClipsDescendants = true
tabPages.Parent = mainFrame

local tabs = {}

function Ranox:CreateWindow(config)
	title.Text = config.Name or "RANOX"

	return {
		CreateTab = function(_, tabName)
			local tabButton = Instance.new("TextButton")
			tabButton.Text = tabName
			tabButton.Size = UDim2.new(0, 90, 0, 27)
			tabButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
			tabButton.TextColor3 = Color3.fromRGB(255, 255, 255)
			tabButton.Font = Enum.Font.GothamBold
			tabButton.TextSize = 14
			tabButton.Parent = tabHolder

			local tabCorner = Instance.new("UICorner")
			tabCorner.CornerRadius = UDim.new(0, 6)
			tabCorner.Parent = tabButton

			local scrollFrame = Instance.new("ScrollingFrame")
                        scrollFrame.Size = UDim2.new(1, 0, 1, 0)
                        scrollFrame.CanvasSize = UDim2.new(1, 0, 0, math.min(layout.AbsoluteContentSize.Y + 10, scrollFrame.AbsoluteSize.Y))
                        scrollFrame.AutomaticCanvasSize = Enum.AutomaticSize.Y
                        scrollFrame.ScrollingEnabled = true
                        scrollFrame.ScrollBarThickness = 6
                        scrollFrame.ClipsDescendants = true
                        scrollFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
                        scrollFrame.BorderSizePixel = 0
                        scrollFrame.Parent = tabPages

                        local scrollCorner = Instance.new("UICorner")
                        scrollCorner.CornerRadius = UDim.new(0, 8)
                        scrollCorner.Parent = scrollFrame

                        local layout = Instance.new("UIListLayout")
                        layout.Padding = UDim.new(0, 5)
                        layout.SortOrder = Enum.SortOrder.LayoutOrder
                        layout.Parent = scrollFrame

                        layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
	                        scrollFrame.CanvasSize = UDim2.new(1, 0, 0, math.min(layout.AbsoluteContentSize.Y + 10, scrollFrame.AbsoluteSize.Y))
                        end)

			tabButton.MouseButton1Click:Connect(function()
				for _, tab in pairs(tabs) do
					tab.Visible = false
				end
				scrollFrame.Visible = true
			end)

			table.insert(tabs, scrollFrame)

			if #tabs == 1 then
				scrollFrame.Visible = true
			end

			return {
				CreateButton = function(_, buttonConfig)
					local button = Instance.new("TextButton")
					button.Text = buttonConfig.Name or "Botão"
					button.Size = UDim2.new(1, -10, 0, 30)
					button.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
					button.BorderSizePixel = 1
					button.BorderColor3 = Color3.fromRGB(100, 100, 100)
					button.TextColor3 = Color3.fromRGB(255, 255, 255)
					button.Font = Enum.Font.Gotham
					button.TextSize = 14
					button.Parent = scrollFrame

					local btnCorner = Instance.new("UICorner")
					btnCorner.CornerRadius = UDim.new(0, 6)
					btnCorner.Parent = button
				end,

                                CreateLabel = function(_, labelConfig)
					local labelFrame = Instance.new("Frame")
					labelFrame.Size = UDim2.new(1, -10, 0, 15) -- 50% menor que o botão normal
					labelFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
					labelFrame.BorderSizePixel = 1
					labelFrame.BorderColor3 = Color3.fromRGB(80, 80, 80)
					labelFrame.Parent = scrollFrame

					local labelCorner = Instance.new("UICorner")
					labelCorner.CornerRadius = UDim.new(0, 6)
					labelCorner.Parent = labelFrame

					local labelText = Instance.new("TextLabel")
					labelText.Text = labelConfig.Name or "Label"
					labelText.Size = UDim2.new(1, -10, 1, 0)
					labelText.Position = UDim2.new(0, 5, 0, 0)
					labelText.BackgroundTransparency = 1
					labelText.TextColor3 = Color3.fromRGB(255, 255, 255)
					labelText.Font = Enum.Font.GothamBold
					labelText.TextSize = 12
					labelText.TextXAlignment = Enum.TextXAlignment.Left
					labelText.Parent = labelFrame
				end,

                                CreateTextBox = function(_, textBoxConfig)
					local placeholderText = textBoxConfig.Placeholder or "Digite aqui"

					local textBoxFrame = Instance.new("Frame")
					textBoxFrame.Size = UDim2.new(0, 100, 0, 28)
					textBoxFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
					textBoxFrame.BorderSizePixel = 1
					textBoxFrame.BorderColor3 = Color3.fromRGB(100, 100, 100)
					textBoxFrame.Parent = scrollFrame

					local textBoxCorner = Instance.new("UICorner")
					textBoxCorner.CornerRadius = UDim.new(0.2, 0)
					textBoxCorner.Parent = textBoxFrame

					local textBox = Instance.new("TextBox")
					textBox.Size = UDim2.new(1, -10, 1, 0)
					textBox.Position = UDim2.new(0, 5, 0, 0)
					textBox.BackgroundTransparency = 1
					textBox.TextColor3 = Color3.fromRGB(255, 255, 255)
					textBox.Font = Enum.Font.GothamBold
					textBox.TextSize = 14
					textBox.PlaceholderText = placeholderText
					textBox.Text = ""
					textBox.TextXAlignment = Enum.TextXAlignment.Left
					textBox.ClearTextOnFocus = false
					textBox.TextWrapped = true
					textBox.Parent = textBoxFrame

					local TweenService = game:GetService("TweenService")
					local originalSize = textBoxFrame.Size
					local maxSize = UDim2.new(0, 400, 0, 28)

					textBox:GetPropertyChangedSignal("Text"):Connect(function()
						if textBox.Text ~= "" and textBoxConfig.Callback then
							textBoxConfig.Callback(textBox.Text)
						end
						
						if textBox.Text ~= "" then
							local textLength = string.len(textBox.Text)
							local newSize = UDim2.new(0, math.min(100 + textLength * 8, maxSize.X.Offset), 0, 28)
							textBoxFrame:TweenSize(newSize, Enum.EasingDirection.Out, Enum.EasingStyle.Quad, 0.25, true)
						end
					end)

					textBox.FocusLost:Connect(function()
						textBoxFrame:TweenSize(originalSize, Enum.EasingDirection.Out, Enum.EasingStyle.Quad, 0.25, true)
					end)
				end,

				CreateToggle = function(_, toggleConfig)
					local toggleFrame = Instance.new("Frame")
					toggleFrame.Size = UDim2.new(1, -10, 0, 30)
					toggleFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
					toggleFrame.BorderSizePixel = 1
					toggleFrame.BorderColor3 = Color3.fromRGB(100, 100, 100)
					toggleFrame.Parent = scrollFrame

					local toggleCorner = Instance.new("UICorner")
					toggleCorner.CornerRadius = UDim.new(0, 6)
					toggleCorner.Parent = toggleFrame

					local toggleLabel = Instance.new("TextLabel")
					toggleLabel.Text = toggleConfig.Name or "Toggle"
					toggleLabel.Size = UDim2.new(1, -30, 1, 0)
					toggleLabel.Position = UDim2.new(0, 5, 0, 0)
					toggleLabel.BackgroundTransparency = 1
					toggleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
					toggleLabel.Font = Enum.Font.Gotham
					toggleLabel.TextSize = 14
					toggleLabel.TextXAlignment = Enum.TextXAlignment.Left
					toggleLabel.Parent = toggleFrame

					local toggleButton = Instance.new("ImageButton")
					toggleButton.Size = UDim2.new(0, 30, 1, 0)
					toggleButton.Position = UDim2.new(1, -30, 0, 0)
					toggleButton.BackgroundTransparency = 1
					toggleButton.Image = "rbxassetid://110013051256067"
					toggleButton.ImageColor3 = Color3.fromRGB(255, 0, 0)
					toggleButton.Parent = toggleFrame

					local checkMark = Instance.new("TextLabel")
					checkMark.Text = "✔️"
					checkMark.Size = UDim2.new(0.5, 0, 0.5, 0)
					checkMark.Position = UDim2.new(0.25, 0, 0.25, 0)
					checkMark.BackgroundTransparency = 1
					checkMark.TextColor3 = Color3.fromRGB(255, 255, 255)
					checkMark.Font = Enum.Font.GothamBold
					checkMark.TextSize = 18
					checkMark.Parent = toggleButton
					checkMark.Visible = false

					local toggled = false

					toggleButton.MouseButton1Click:Connect(function()
						toggled = not toggled
						toggleButton.ImageColor3 = toggled and Color3.fromRGB(0, 255, 0) or Color3.fromRGB(255, 0, 0)
						checkMark.Visible = toggled
						if toggleConfig.Callback then
							pcall(toggleConfig.Callback, toggled)
						end
					end)
				end
			}
		end
	}
end

return Ranox
