local Ranox = {}

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer

local mainUI = Instance.new("ScreenGui")
mainUI.Name = "RanoxUI"
mainUI.ResetOnSpawn = false
mainUI.IgnoreGuiInset = true
mainUI.Parent = player:WaitForChild("PlayerGui")

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 500, 0, 375)
mainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
mainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
mainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
mainFrame.BorderSizePixel = 0
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Parent = mainUI

local roundCorner = Instance.new("UICorner")
roundCorner.CornerRadius = UDim.new(0.1, 0)
roundCorner.Parent = mainFrame

local header = Instance.new("Frame")
header.Size = UDim2.new(1, 0, 0, 32)
header.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
header.BorderSizePixel = 0
header.Parent = mainFrame

local headerGradient = Instance.new("UIGradient")
headerGradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 255, 255)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 120, 255))
}
headerGradient.Rotation = 90
headerGradient.Parent = header

local title = Instance.new("TextLabel")
title.Text = "RANOX"
title.Size = UDim2.new(1, -30, 1, 0)
title.Position = UDim2.new(0, 10, 0, 0)
title.BackgroundTransparency = 1
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Font = Enum.Font.GothamBold
title.TextSize = 18
title.TextXAlignment = Enum.TextXAlignment.Left
title.TextStrokeTransparency = 0.8
title.Parent = header

local hideButton = Instance.new("ImageButton")
hideButton.Size = UDim2.new(0, 24, 0, 24)
hideButton.Position = UDim2.new(1, -34, 0.5, 0)
hideButton.AnchorPoint = Vector2.new(0.5, 0.5)
hideButton.BackgroundTransparency = 1
hideButton.Image = "rbxassetid://7072719338"
hideButton.ImageColor3 = Color3.fromRGB(255, 255, 255)
hideButton.Parent = header

local ballButton = Instance.new("ImageButton")
ballButton.Size = UDim2.new(0, 42, 0, 42)
ballButton.Position = UDim2.new(0.05, 0, 0.9, 0)
ballButton.AnchorPoint = Vector2.new(0.5, 0.5)
ballButton.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
ballButton.Image = "rbxassetid://6337069410"
ballButton.Visible = false
ballButton.Active = true
ballButton.Draggable = true
ballButton.Parent = mainUI

local ballCorner = Instance.new("UICorner")
ballCorner.CornerRadius = UDim.new(1, 0)
ballCorner.Parent = ballButton

hideButton.MouseButton1Click:Connect(function()
    local tweenInfo = TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
    local tweenSize = TweenService:Create(mainFrame, tweenInfo, { Size = UDim2.new(0, 0, 0, 0) })
    tweenSize:Play()
    tweenSize.Completed:Connect(function()
        mainFrame.Visible = false
        ballButton.Visible = true
    end)
end)

ballButton.MouseButton1Click:Connect(function()
    mainFrame.Visible = true
    local tweenInfo = TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
    local tweenSize = TweenService:Create(mainFrame, tweenInfo, { Size = UDim2.new(0, 500, 0, 375) })
    tweenSize:Play()
    ballButton.Visible = false
end)

local tabHolder = Instance.new("Frame")
tabHolder.Size = UDim2.new(1, 0, 0, 30)
tabHolder.Position = UDim2.new(0, 0, 0, 32)
tabHolder.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
tabHolder.BorderSizePixel = 0
tabHolder.Parent = mainFrame

local tabLayout = Instance.new("UIListLayout")
tabLayout.FillDirection = Enum.FillDirection.Horizontal
tabLayout.Padding = UDim.new(0, 6)
tabLayout.Parent = tabHolder

local tabPages = Instance.new("Frame")
tabPages.Size = UDim2.new(1, 0, 1, -62)
tabPages.Position = UDim2.new(0, 0, 0, 62)
tabPages.BackgroundTransparency = 1
tabPages.ClipsDescendants = true
tabPages.Parent = mainFrame

local tabs = {}
local firstTab = nil

function Ranox:CreateWindow(config)
    title.Text = config.Name or "RANOX"

    return {
        CreateTab = function(_, tabName)
            local tabButton = Instance.new("TextButton")
            tabButton.Text = tabName
            tabButton.Size = UDim2.new(0, 100, 0, 27)
            tabButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
            tabButton.TextColor3 = Color3.fromRGB(255, 255, 255)
            tabButton.Font = Enum.Font.GothamBold
            tabButton.TextSize = 14
            tabButton.AutoButtonColor = false
            tabButton.Parent = tabHolder

            local tabCorner = Instance.new("UICorner")
            tabCorner.CornerRadius = UDim.new(0, 6)
            tabCorner.Parent = tabButton

            tabButton.MouseEnter:Connect(function()
                tabButton.BackgroundColor3 = Color3.fromRGB(50, 50, 70)
            end)
            tabButton.MouseLeave:Connect(function()
                tabButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
            end)

            local scrollFrame = Instance.new("ScrollingFrame")
            scrollFrame.Size = UDim2.new(1, 0, 1, 0)
            scrollFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
            scrollFrame.ScrollBarThickness = 6
            scrollFrame.ScrollingDirection = Enum.ScrollingDirection.Y
            scrollFrame.BackgroundTransparency = 1
            scrollFrame.BorderSizePixel = 0
            scrollFrame.Visible = false
            scrollFrame.Parent = tabPages

            local padding = Instance.new("UIPadding")
            padding.PaddingTop = UDim.new(0, 6)
            padding.PaddingBottom = UDim.new(0, 6)
            padding.PaddingLeft = UDim.new(0, 6)
            padding.PaddingRight = UDim.new(0, 6)
            padding.Parent = scrollFrame

            local layout = Instance.new("UIListLayout")
            layout.FillDirection = Enum.FillDirection.Vertical
            layout.Padding = UDim.new(0.01, 0)
            layout.SortOrder = Enum.SortOrder.LayoutOrder
            layout.Parent = scrollFrame

            layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
                scrollFrame.CanvasSize = UDim2.new(0, 0, 0, layout.AbsoluteContentSize.Y + 12)
            end)

            tabButton.MouseButton1Click:Connect(function()
                for _, tab in pairs(tabs) do
                    tab.Visible = false
                end
                scrollFrame.Visible = true
            end)

            table.insert(tabs, scrollFrame)

            if not firstTab then
                firstTab = scrollFrame
                scrollFrame.Visible = true
            end

            return {
                CreateButton = function(_, buttonConfig)
                    local button = Instance.new("TextButton")
                    button.Text = buttonConfig.Name or "Bot√£o"
                    button.Size = UDim2.new(1, -12, 0, 32)
                    button.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
                    button.BorderSizePixel = 0
                    button.TextColor3 = Color3.fromRGB(255, 255, 255)
                    button.Font = Enum.Font.Gotham
                    button.TextSize = 14
                    button.Parent = scrollFrame

                    local btnCorner = Instance.new("UICorner")
                    btnCorner.CornerRadius = UDim.new(0, 6)
                    btnCorner.Parent = button

                    button.MouseEnter:Connect(function()
                        button.BackgroundColor3 = Color3.fromRGB(50, 50, 70)
                    end)
                    button.MouseLeave:Connect(function()
                        button.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
                    end)

                    if buttonConfig.Callback then
                        button.MouseButton1Click:Connect(buttonConfig.Callback)
                    end
                end,
            }
        end,
    }
end

return Ranox
