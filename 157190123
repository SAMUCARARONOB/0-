local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")

local Rayfield = loadstring(game:HttpGet("https://raw.githubusercontent.com/SiriusSoftwareLtd/Rayfield/main/source.lua"))()

local Window = Rayfield:CreateWindow({
    Name = "CLIMB AND SLIDE üö§",
    LoadingTitle = "Carregando...",
    LoadingSubtitle = "by ChatGPT",
    ConfigurationSaving = { Enabled = false }
})

local AutoFarm = Window:CreateTab("AUTO FARM", 4483362458)

local RPets = ReplicatedStorage:WaitForChild("R_Pets")
local RServer = ReplicatedStorage:WaitForChild("R_Server")
local discovered = {}
local activePets = {}
local sliderActive = {false,false,false,false}
local sliderMaps = {"Map_1","Map_2","Map_3","Map_4"}
local sliderLastExec = {0,0,0,0}
local tpCoords = {
    Vector3.new(13.52, 3.96, -123.00),
    Vector3.new(-13511.48, 4.87, -88.00),
    Vector3.new(-27143.17, 228.89, -124.53),
    Vector3.new(-39751.41, 111.39, -101.99)
}
local execSpeed = 0.5

RunService.Heartbeat:Connect(function()
    for petName, isActive in pairs(activePets) do
        if isActive then
            pcall(function()
                RPets:FireServer("Give_Pet", petName)
            end)
        end
    end
    for i = 1,4 do
        if sliderActive[i] and (tick() - sliderLastExec[i]) >= execSpeed then
            sliderLastExec[i] = tick()
            local args = {"Slide", workspace:WaitForChild("Maps"):WaitForChild(sliderMaps[i])}
            RServer:FireServer(unpack(args))
        end
    end
end)

local function createToggle(name)
    if discovered[name] then return end
    discovered[name] = true
    AutoFarm:CreateToggle({
        Name = name,
        CurrentValue = false,
        Callback = function(state)
            activePets[name] = state
        end
    })
end

local function scanReplicatedStorageForPets()
    for _, inst in ipairs(ReplicatedStorage:GetDescendants()) do
        if inst.Name:match("^Pet[%w_]+") then
            createToggle(inst.Name)
        end
        if inst:IsA("StringValue") and type(inst.Value) == "string" and inst.Value:match("^Pet[%w_]+") then
            createToggle(inst.Value)
        end
    end
    local candidates = {"Pets","PetList","AllPets","PetsFolder","Pet_Storage"}
    for _, folderName in ipairs(candidates) do
        local f = ReplicatedStorage:FindFirstChild(folderName)
        if f then
            for _, c in ipairs(f:GetChildren()) do
                createToggle(c.Name)
            end
        end
    end
end

for i=1,4 do
    AutoFarm:CreateToggle({
        Name = "SLIDER MAPA "..i,
        CurrentValue = false,
        Callback = function(state)
            sliderActive[i] = state
        end
    })
end

AutoFarm:CreateSlider({
    Name = "Velocidade Execu√ß√£o",
    Range = {0.01, 1},
    Increment = 0.01,
    Suffix = "s",
    CurrentValue = 0.5,
    Callback = function(Value)
        execSpeed = Value
    end
})

AutoFarm:CreateLabel("TELEPORTE DE MAPA")
for i=1,4 do
    AutoFarm:CreateButton({
        Name = "TP MAP "..i,
        Callback = function()
            local player = game.Players.LocalPlayer
            if player and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                player.Character.HumanoidRootPart.CFrame = CFrame.new(tpCoords[i])
            end
            local args = {"Teleport_Map", sliderMaps[i]}
            RServer:FireServer(unpack(args))
        end
    })
end

AutoFarm:CreateLabel("√ÅREA DE PETS")
AutoFarm:CreateButton({
    Name = "Atualizar lista de Pets",
    Callback = function()
        scanReplicatedStorageForPets()
    end
})

scanReplicatedStorageForPets()
